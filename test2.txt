""" creating user object, add it to the database """

POST http://localhost:5000/users HTTP/1.1
content-type: application/json

{
    "email": "farmer@myfarm.com",
    "password": "farmpassword",
    "attributes": {
        "userType": "farmer",
        "farm_name": "best farm",
        "location": "farm spot"
    }
}

POST http://localhost:5000/users HTTP/1.1
content-type: application/json

{
    "email": "client2@example.com",
    "password": "clientclient",
    "attributes": {
        "userType": "client",
        "farm_name": "Your Farm Name",
        "location": "Your Location"
    }
}


""" Sign in and connect using existing account
 <returns the token sending it to the client browser> """

GET http://0.0.0.0:5000/connect HTTP/1.1
content-type: application/json
Authorization: Y2xpZW50QGV4YW1wbGUuY29tOnlvdXJfcGFzc3dvcmQ=
responce : 

//-----------------------------------------------------------//
{
  "token": "060c6686-2560-44b4-9f45-408a04bf7e5c"    client
            "3fd117a7-2b83-48f2-bb82-0856fe88fbac"  farmer
}
//------------------------------------------------------------//
""" get the token from py X"
GET http://0.0.0.0:5000/connect HTTP/1.1
content-type: application/json
Authorization: Basic Y2xpZW50QGV4YW1wbGUuY29tOnlvdXJfcGFzc3dvcmQ=
responce : 




""" token using Bearer """"

GET http://localhost:5000/users/me HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIxMjM0NTY3ODkwIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c






""" Basic implementation of token validation """

GET http://localhost:5000/users/me HTTP/1.1
X-Token: 060c6686-2560-44b4-9f45-408a04bf7e5c




"""testing with missing or invalied  tokens"""

POST http://localhost:5000/api/addproduct HTTP/1.1
Content-Type: application/json
X-Token: 0000000

{
    "name": "Annanas",
    "price": 100,
    "quantity": 5,
    "description": "origianl Tropical fruits imported from south africa "
}




""" The product was added suscesfully USING valid token """

POST http://localhost:5000/api/addproduct HTTP/1.1
Content-Type: application/json
X-Token: e3f907db-f996-4d8f-a818-031079ba1f28

{
    "name": "peach",
    "price": 70,
    "quantity": 20,
    "description": "sweet peach"
}

 """ ex 2 ""
POST http://localhost:5000/api/addproduct HTTP/1.1
Content-Type: application/json
X-Token: "e3f907db-f996-4d8f-a818-031079ba1f28"

{
    "name": "banana",
    "price": 50,
    "quantity": 10,
    "description": "Natural bananas"
}


""" HERE we test restricted() midleware trying : to add product with client account"""

POST http://localhost:5000/api/addproduct HTTP/1.1
Content-Type: application/json
X-Token: "e3f907db-f996-4d8f-a818-031079ba1f28"

{
    "name": "orange",
    "price": 30,
    "quantity": 1,
    "description": "Product Description"
}


"4156da15-4603-44cd-8dcb-e9327ac02aed" 


""" different format usig create()  approach """
POST http://localhost:5000/api/createproduct HTTP/1.1
Content-Type: application/json

{
    "userId": "65fcb538cb706f4e900d3828",
    "attributes": {
        "name": "Product Name",
        "price": 100,
        "quantity": 1,
        "description": "Product Description"
    }
}

""" place an order """
POST http://localhost:5000/api/addorder HTTP/1.1
Content-Type: application/json
X-Token: 060c6686-2560-44b4-9f45-408a04bf7e5c

{
    "attributes": {
        "product": "66020ba4162440165b18dfc7",
        "price": 70,
        "quantity": 2
    }
}
 
 //////////// ORDER HISTORY /////////////////////////////
GET http://localhost:5000/api/viewOrderHistory HTTP/1.1
Content-Type: application/json
X-Token: 060c6686-2560-44b4-9f45-408a04bf7e5c


//////////////// ALL ORDERS //////////////////////////

GET http://localhost:5000/api/orders HTTP/1.1
Content-type: application/json
X-Token: 3fd117a7-2b83-48f2-bb82-0856fe88fbac

/////////////// ORDER BY PRODUCT ////////////////
GET http://localhost:5000/api/orders/66020ba4162440165b18dfc7 HTTP/1.1
Content-type: application/json
X-Token: 3fd117a7-2b83-48f2-bb82-0856fe88fbac

/////////////// UPDATE ORDER STATUS ////////////
PUT http://localhost:5000/api/orders/6602d607e56f91ef20628078/updateStatus
Content-Type: application/json
X-Token: 060c6686-2560-44b4-9f45-408a04bf7e5c

{
    "attributes": {
        "status": "delivered"
    }
}